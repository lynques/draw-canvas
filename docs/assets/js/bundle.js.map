{"version":3,"sources":["webpack:///webpack/bootstrap 3a7d2888497d4f902760","webpack:///./src/index.ts","webpack:///./src/draw-canvas/draw-canvas.component.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","customElements","define","__WEBPACK_IMPORTED_MODULE_0__draw_canvas_draw_canvas_component__","__webpack_exports__","HTMLElement","[object Object]","super","this","_height","_width","_strokeColor","_strokeWeight","canvas","ctx","drawing","width","val","setAttribute","height","strokeColor","strokeWeight","observedAttributes","oldVal","newVal","parseInt","weight","style","display","canvasElement","document","createElement","appendChild","init","querySelector","getContext","addEventListener","handleMouseDown","bind","handleMouseMove","handleMouseUp","e","posX","offsetX","posY","offsetY","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","fillStyle","fillRect"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3a7d2888497d4f902760","import { DrawCanvas } from './draw-canvas/draw-canvas.component';\r\n\r\ncustomElements.define('draw-canvas', DrawCanvas);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","export class DrawCanvas extends HTMLElement {\r\n\r\n  private _height: number;\r\n  private _width: number;\r\n  private _strokeWeight: number;\r\n  private _strokeColor: string;\r\n  private canvas: HTMLCanvasElement;\r\n  private ctx: any;\r\n  private drawing: boolean;\r\n\r\n  constructor() {\r\n    super();\r\n    this._height = null;\r\n    this._width = null;\r\n    this._strokeColor = '#000';\r\n    this._strokeWeight = 1;\r\n    this.canvas = null;\r\n    this.ctx = null;\r\n    this.drawing = false;\r\n  }\r\n\r\n  /* set attribute properties */\r\n  set width(val: string) {\r\n    this.setAttribute('width', val);\r\n  }\r\n\r\n  set height(val: string) {\r\n    this.setAttribute('height', val);\r\n  }\r\n  \r\n  set strokeColor(val: string) {\r\n    this.setAttribute('stroke-color', val);\r\n  }\r\n  \r\n  set strokeWeight(val: string) {\r\n    this.setAttribute('stroke-weight', val);\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return ['height', 'width', 'stroke-color', 'stroke-weight'];\r\n  }\r\n\r\n  /* custom element lifecycle methods */\r\n  public attributeChangedCallback(name: string, oldVal: string, newVal: string): void {\r\n    switch (name) {\r\n      case 'width':\r\n        this._width = parseInt(newVal, 10) || 0;\r\n        if (this.canvas) {\r\n          this.canvas.width = this._width;\r\n        }\r\n        break;\r\n      case 'height':\r\n        this._height = parseInt(newVal, 10) || 0;\r\n        if (this.canvas) {\r\n          this.canvas.height = this._height;\r\n        }\r\n        break;\r\n      case 'stroke-color':\r\n        this._strokeColor = newVal;\r\n        break;\r\n      case 'stroke-weight':\r\n        const weight = parseInt(newVal, 10) || 1;\r\n        this._strokeWeight = weight < 1 ? 1 : weight;\r\n        break;\r\n    }\r\n  }\r\n\r\n  public connectedCallback(): void {\r\n    this.style.display = 'block';\r\n    this.style.width = `${this._width}px`;\r\n    this.style.height = `${this._height}px`;\r\n    const canvasElement: HTMLCanvasElement = document.createElement('canvas');\r\n    canvasElement.height = this._height;\r\n    canvasElement.width = this._width;\r\n    this.appendChild(canvasElement);\r\n    this.init();\r\n  }\r\n\r\n  /**\r\n   * Initialize canvas and 2d context\r\n   */\r\n  public init(): void {\r\n    this.canvas = this.querySelector('canvas');\r\n    this.ctx = this.canvas.getContext('2d');\r\n    this.canvas.addEventListener('mousedown', this.handleMouseDown.bind(this));\r\n    this.canvas.addEventListener('mousemove', this.handleMouseMove.bind(this));\r\n    this.canvas.addEventListener('mouseout', this.handleMouseUp.bind(this));\r\n    this.canvas.addEventListener('mouseup', this.handleMouseUp.bind(this));\r\n  }\r\n\r\n  /**\r\n   * Handle mousedown events on canvas element\r\n   * @param {MouseEvent} e the mouse event object\r\n   */\r\n  public handleMouseDown(e: MouseEvent): void {\r\n    const posX = e.offsetX;\r\n    const posY = e.offsetY;\r\n    this.drawing = true;\r\n    this.ctx.strokeStyle = this._strokeColor;\r\n    this.ctx.lineWidth = this._strokeWeight;\r\n    this.ctx.beginPath();\r\n    this.ctx.moveTo(posX, posY);\r\n  }\r\n\r\n  /**\r\n   * Handle mousemove events on canvas element - does the drawing part\r\n   * @param {MouseEvent} e the mouse event object\r\n   */\r\n  public handleMouseMove(e: MouseEvent): void {\r\n    if (this.drawing) {\r\n      const posX = e.offsetX;\r\n      const posY = e.offsetY;\r\n      this.ctx.lineTo(posX, posY);\r\n      this.ctx.stroke();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Handle mouseup events on canvas element - stop drawing\r\n   */\r\n  public handleMouseUp(): void {\r\n    this.drawing = false;\r\n  }\r\n\r\n  /**\r\n   * Wipe the canvas\r\n   */\r\n  public clear(): void {\r\n    this.ctx.fillStyle = '#fff';\r\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/draw-canvas/draw-canvas.component.ts"],"sourceRoot":""}